Make a batch file hide its own console

Use one of the following commands within a batch file to hide that batch file's console window:

CONSOLESTATE /Hide

or:

SETCONSOLE /hide

or:

TITLE HideMePlease
FOR /F %%A IN ('CMDOW ˆ| FIND "HideMePlease"') DO CMDOW %%A /HID

or, using KiXtart:

> Temp.kix ECHO SetConsoleˆ("Hide"ˆ)
KIX32.EXE Temp.kix
DEL Temp.kix

Spoiler alert: completely hiding the console is not possible in the standard command interpreters CMD.EXE or COMMAND.COM.
All techniques to hide the console that have to be called from within the batch file will always show at least a short "black flash" of the console being opened before it is hidden.
Therefore, the "cloaking" of the console has to be started before starting the batch file, which means using an alternative scripting language to start the command interpreter hidden.

To restore console visibility, use:

CONSOLESTATE /Show

or:

SETCONSOLE /show

or:

TITLE HideMePlease
FOR /F %%A IN ('CMDOW ˆ| FIND "HideMePlease"') DO CMDOW %%A /VIS

or, using KiXtart:

> Temp.kix ECHO SetConsoleˆ("Show"ˆ)
KIX32.EXE Temp.kix
DEL Temp.kix
